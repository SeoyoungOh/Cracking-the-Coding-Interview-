package Array_1;

import java.util.Scanner;

/* 1.4. 주어진 문자열 내의 모든 공백을 '%20'으로 바꾸는 메서드 작성
 * - 문자열 끝에 추가로 필요한 문자들을 더할 수 있는 충분한 공간이 있다고 가정
 * - 공백을 포함하는 문자열의 길이도 함께 주어진다고 가정
 * - Java의 경우 문자 배열을 사용하여 필요한 연산을 각 문자에 바로 적용할 수 있도록 할 것
 * ex) Input  : "Mr John Smith    ", 13
 *     Output : "Mr%20John%20Smith" 
 * */
public class ReplaceSpace_4 {
	
	/* Twice Scanning
	 * - First scan : check empty space > length of string
	 * - Second scan : (scanning reverse) empty > %20 / non-empty > copy character 
	 * */
	public static void replaceSpace(char[] c, int length){
		int checkSpace = 0;
		int newLength = 0;
		
		//Fist Scanning
		for(char tmp : c){
			if(tmp == ' ')
				checkSpace++;
		}
		System.out.println("*** Space Test : " + checkSpace);
		
		//newLength = length + checkSpace*2;
		newLength = length-1;
		System.out.println("*** newLength : " + newLength);
		c[newLength] = '\0';
		System.out.format("*** c[newLength] : c[%d] = %c%n", newLength, c[newLength]);
		
		//Second Scanning
		for(int i=length-1; i<=0; i--){
			if(c[i] == ' '){
				c[newLength-1] = '0';
				c[newLength-2] = '2';
				c[newLength-3] = '%';
				newLength -= 3;
			} else {
				c[newLength-1] = c[i];
				newLength -= 1;
			}
		}
	}
	

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String testLetter;
		Scanner scan = new Scanner(System.in);
		
		System.out.println("Please write the test letter : ");
		testLetter = scan.nextLine();
		
		
		System.out.println("1. Letter : " + testLetter);
		System.out.println("2. Length : " + testLetter.length());
		
		System.out.println("3. CharArrayTest : ");
		char[] replaceLetter = testLetter.toCharArray();
		for(int i=0; i<replaceLetter.length; i++){
			System.out.format("*** replaceLetter[%d] : %c%n", i, replaceLetter[i]);
		}
		
		
		replaceSpace(replaceLetter, testLetter.length());
		System.out.println("4. ReplaceTest : ");
		for(int i=0; i<replaceLetter.length; i++){
			System.out.format("*** replaceLetter[%d] : %c%n", i, replaceLetter[i]);
		}
		

	}

}
